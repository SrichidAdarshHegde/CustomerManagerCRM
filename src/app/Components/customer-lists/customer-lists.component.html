<div>&nbsp;</div>
<div class="container">
    <h2 class="text-center">Registered Customers List</h2>
</div><br>
<div class="col-md-12 ">
    <div class="table-container">
        <!-- <table #table id="tableId" class="table table-bordered ">
            <thead>
                <tr style="border-color:black;font-size:10px;"  class="table-row">
                    <th
                        style="border-color:rgb(248, 244, 244);color: rgb(231, 172, 94);background-color:rgb(27, 9, 129);text-align: center;">
                        SlNo.</th>
                    <th
                        style="border-color:rgb(248, 244, 244);color: rgb(231, 172, 94);background-color:rgb(27, 9, 129);text-align: center;">
                        Customer Name</th>
                    <th
                        style="border-color:rgb(248, 244, 244);color: rgb(231, 172, 94);background-color:rgb(27, 9, 129);text-align: center;">
                        Unit</th>
                    <th
                        style="border-color:rgb(248, 244, 244);color: rgb(231, 172, 94);background-color:rgb(27, 9, 129);text-align: center;">
                        Address One</th>
                    <th
                        style="border-color:rgb(248, 244, 244);color: rgb(231, 172, 94);background-color:rgb(27, 9, 129);text-align: center;">
                        Address Two</th>
                    <th
                        style="border-color:rgb(248, 244, 244);color: rgb(231, 172, 94);background-color:rgb(27, 9, 129);text-align: center;">
                        Address Three</th>
                    <th
                        style="border-color:rgb(248, 244, 244);color: rgb(231, 172, 94);background-color:rgb(27, 9, 129);text-align: center;">
                        City</th>
                    <th
                        style="border-color:rgb(248, 244, 244);color: rgb(231, 172, 94);background-color:rgb(27, 9, 129);text-align: center;">
                        State</th>
                    <th
                        style="border-color:rgb(248, 244, 244);color: rgb(231, 172, 94);background-color:rgb(27, 9, 129);text-align: center;">
                        Pin</th>
                    <th
                        style="border-color:rgb(248, 244, 244);color: rgb(231, 172, 94);background-color:rgb(27, 9, 129);text-align: center;">
                        GSTIN</th>
                    <th
                        style="border-color:rgb(248, 244, 244);color: rgb(231, 172, 94);background-color:rgb(27, 9, 129);text-align: center;">
                        Cluster</th>
                    <th
                        style="border-color:rgb(248, 244, 244);color: rgb(231, 172, 94);background-color:rgb(27, 9, 129);text-align: center;">
                        Route Number</th>
                    <th
                        style="border-color:rgb(248, 244, 244);color: rgb(231, 172, 94);background-color:rgb(27, 9, 129);text-align: center;">
                        Region</th>
                    <th
                        style="border-color:rgb(248, 244, 244);color: rgb(231, 172, 94);background-color:rgb(27, 9, 129);text-align: center;">
                        Zone</th>
                     <th
                        style="border-color:rgb(248, 244, 244);color: rgb(231, 172, 94);background-color:rgb(27, 9, 129);text-align: center;">
                        Weekly Off</th> 
                     <th
                        style="border-color:rgb(248, 244, 244);color: rgb(231, 172, 94);background-color:rgb(27, 9, 129);text-align: center;">
                        Working Time</th>
                    <th
                        style="border-color:rgb(248, 244, 244);color: rgb(231, 172, 94);background-color:rgb(27, 9, 129);text-align: center;">
                        Security Formalities</th> 
                    <th
                        style="border-color:rgb(248, 244, 244);color: rgb(231, 172, 94);background-color:rgb(27, 9, 129);text-align: center;">
                        Created By</th> 
                    <th>Add Machine</th> 
                    <th
                        style="border-color:rgb(248, 244, 244);color: rgb(231, 172, 94);background-color:rgb(27, 9, 129);text-align: center;">
                        Edit</th>

                    <th
                        style="border-color:rgb(248, 244, 244);color: rgb(231, 172, 94);background-color:rgb(27, 9, 129);text-align: center;">
                        Delete</th>
                </tr>
            </thead>
    <tbody>
    <tr  style="border-color:black;font-size:10px;max-height: min-content;" *ngFor="let customer of customerList ; let i = index" >
      <td  class="rowheight" >{{ (p-1)+(i+1) }}</td>
      <td data-toggle="modal" data-target="#exampleModal"  style="font-size:10px;"
        (click)="getPerticularCustomerContactDetails(customer)">
        <b style="cursor: pointer;">{{customer.companyName}}</b>
      </td>
      <td   style="font-size:10px;">{{customer.unit}}</td>
      <td  style="font-size:10px;">{{customer.addressOne}}</td>
      <td   style="font-size:10px;">{{customer.addressTwo}}</td>
      <td  style="font-size:10px;" >{{customer.addressThree}}</td>
      <td style="font-size:10px;height: 50%;">{{customer.city}}</td>
      <td style="font-size:10px;height: 50%;">{{customer.state}}</td>
      <td style="font-size:10px;height: 50%;">{{customer.pincode}}</td>
       {{customer.country}} 
      <td style="font-size:10px;height: 50%;">{{customer.gstin}}</td>
      <td style="font-size:10px;height: 50%;">{{customer.cluster}}</td>
      <td style="font-size:10px;height: 50%;">{{customer.routeNumber}}</td>
      <td style="font-size:10px;height: 50%;">{{customer.region}}</td>
      <td style="font-size:10px;height: 50%;">{{customer.zone}}</td>
       <td style="font-size:10px;height: 50%;">{{customer.weeklyOff}}</td> 
       <td style="font-size:10px;height: 50%;">{{customer.workingStart}} To {{customer.workingEnd}}</td> 
       <td style="font-size:10px;height: 50%;">{{customer.securityFormalities}}</td> 
      <td style="font-size:10px;height: 50%;">{{customer.createdBy}}</td> 
       <td>
          <button class="btn btn-primary" (click)="addMachine(customer.customerID)">Machine</button>
      </td> 
      <td>
        <button class="btn btn-secondary" data-toggle="modal" data-target="#myModalEdit"
          (click)="editCustomer(customer)"></button>
      </td>
      <td>
        <button class="btn btn-danger" (click)="deleteCustomer(customer.customerID)"></button>
      </td>
    </tr>
  </tbody>
        </table> -->

        <input type="text" id="searchInput" placeholder="Search by Customer Name" [(ngModel)]="searchText">
        <br>
        <table style="width:90%;border-collapse: collapse; 
        margin-left: auto;
        margin-right: auto;" #table id="tableId">
            <tr>
                <th style="border: 1px solid black;text-align: center;">SNo.</th>
                <th style="border: 1px solid black;text-align: center;">Customer Name</th>
                <th style="border: 1px solid black;text-align: center;">Unit</th>
                <th style="border: 1px solid black;text-align: center;">Address One</th>
                <th style="border: 1px solid black;text-align: center;">Address Two</th>
                <th style="border: 1px solid black;text-align: center;">Address Three</th>
                <th style="border: 1px solid black;text-align: center;">City</th>
                <th style="border: 1px solid black;text-align: center;">State</th>
                <th style="border: 1px solid black;text-align: center;">Pin</th>
                <th style="border: 1px solid black;text-align: center;">GSTIN</th>
                <th style="border: 1px solid black;text-align: center;">Clustor</th>
                <th style="border: 1px solid black;text-align: center;">Route No</th>
                <th style="border: 1px solid black;text-align: center;">Region</th>
                <th style="border: 1px solid black;text-align: center;">Zone</th>
                <th style="border: 1px solid black;text-align: center;">Edit</th>
                <th style="border: 1px solid black;text-align: center;">Delete</th>
            </tr>
            <tr style="border: 1px solid black;height: 25px;" *ngFor="let customer of customerList | search: searchText; let i = index">
                <td style="border: 1px solid black;text-align: right;">{{(i+1)}}</td>
                <td style="border: 1px solid black;" data-toggle="modal" data-target="#exampleModal" 
                (click)="getPerticularCustomerContactDetails(customer)"><button class="btn btn-clear">{{customer.companyName}}</button></td>
                <td style="border: 1px solid black;">{{customer.unit}}</td>
                <td style="border: 1px solid black;">{{customer.addressOne}}</td>
                <td style="border: 1px solid black;">{{customer.addressTwo}}</td>
                <td style="border: 1px solid black;">{{customer.addressThree}}</td>
                <td style="border: 1px solid black;">{{customer.city}}</td>
                <td style="border: 1px solid black;">{{customer.state}}</td>
                <td style="border: 1px solid black;text-align: right;">{{customer.pincode}}</td>
                <td style="border: 1px solid black;">{{customer.gstin}}</td>
                <td style="border: 1px solid black;">{{customer.cluster}}</td>
                <td style="border: 1px solid black;">{{customer.routeNumber}}</td>
                <td style="border: 1px solid black;">{{customer.region}}</td>
                <td style="border: 1px solid black;">{{customer.zone}}</td>
                <td style="border: 1px solid black;">
                    <button class="btn btn-secondary" data-toggle="modal" data-target="#myModalEdit"
                    (click)="editCustomer(customer)"></button></td>
                <td style="border: 1px solid black;">
                    <button class="btn btn-danger" (click)="deleteCustomer(customer.customerID)"></button>
                </td>

            </tr>
        </table><br>
    </div>
    <br>
    <div style="text-align: center;" *ngIf="exporting">
        <button style="margin: 0 auto;" class="btn btn-info" (click)="exportTableToExcel()">Export to Excel
            &nbsp;&nbsp;<i class="far fa-file-excel"></i></button>
        <button style="margin: 0 auto; margin: 15px;" class="btn btn-info" (click)="exportTableToPDF()">Export to
            PDF &nbsp;&nbsp;<i class="far fa-file-pdf"></i></button>
    </div>
    <br />
    <div>&nbsp;</div>
    <pagination-controls (pageChange)="p = $event" class="custom-pagination" style="float: right"></pagination-controls>
    <br><br><br><br><br>

</div>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content" style="width: 200%; margin-left: -43%;">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Customer Details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="table-responsive">
                    <table class="table table-bordered"
                        style="border-width:1px; border-color:black;font-size:20px;padding: 5px;margin: 0 auto; ">
                        <thead>
                            <tr style="border-width:1px; border-color:black;font-size:15px;">
                                <th
                                    style="border-width:1px; border-color:rgb(248, 244, 244);color: rgb(231, 172, 94);background-color:rgb(27, 9, 129);text-align: center;">
                                    SlNo.</th>
                                <!-- <th style="border-width:1px; border-color:rgb(248, 244, 244);color: rgb(231, 172, 94);background-color:rgb(27, 9, 129);text-align: center;">Salute</th> -->
                                <th
                                    style="border-width:1px; border-color:rgb(248, 244, 244);color: rgb(231, 172, 94);background-color:rgb(27, 9, 129);text-align: center;">
                                    Contact Name</th>
                                <th
                                    style="border-width:1px; border-color:rgb(248, 244, 244);color: rgb(231, 172, 94);background-color:rgb(27, 9, 129);text-align: center;">
                                    Designation</th>
                                <th
                                    style="border-width:1px; border-color:rgb(248, 244, 244);color: rgb(231, 172, 94);background-color:rgb(27, 9, 129);text-align: center;">
                                    Email</th>
                                <th
                                    style="border-width:1px; border-color:rgb(248, 244, 244);color: rgb(231, 172, 94);background-color:rgb(27, 9, 129);text-align: center;">
                                    Mobile</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let details of contactDetails; let i = index">
                                <td style="border-width:1px; border-color:black;text-align: right;font-size:18px;">
                                    {{(i+1)}}</td>
                                <td style="border-width:1px; border-color:black;text-align: left;font-size:18px;">
                                    {{details.salute}} {{details.contactName}}</td>
                                <td style="border-width:1px; border-color:black;text-align: left;font-size:18px;">
                                    {{details.designation}}</td>
                                <td style="border-width:1px; border-color:black;text-align: left;font-size:18px;">
                                    {{details.email}}</td>
                                <td style="border-width:1px; border-color:black;text-align: right;font-size:18px;">
                                    {{details.mobile}}</td>
                                <!-- <td>
                                 <button>
                                     <i class="fa fa-delete"></i>
                                 </button>
                             </td> -->
                            </tr>
                        </tbody>
                    </table>
                    <!-- <pagination-controls (pageChange)="p = $event" style="float: right"></pagination-controls> -->
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>